!!!
%html
  %head
    %title Jasmine Spec Runner
    %link{:href => "jasmine-1.1.0/jasmine_favicon.png", :rel => "shortcut icon", :type => "image/png"}
      %link{:href => "jasmine-1.1.0/jasmine.css", :rel => "stylesheet", :type => "text/css"}
      = javascript_include_tag "falling_block_rpg/jasmine-1.1.0/jasmine"
      = javascript_include_tag "falling_block_rpg/jasmine-1.1.0/jasmine-html"
      = javascript_include_tag "falling_block_rpg/sinon"
        / include spec files here...
        %script{:src => "spec/spec_helper.js", :type => "text/javascript"}
        %script{:src => "spec/block_fall_spec.js", :type => "text/javascript"}
        %script{:src => "spec/o_spec.js", :type => "text/javascript"}
        %script{:src => "spec/j_spec.js", :type => "text/javascript"}
        %script{:src => "spec/block_spec.js", :type => "text/javascript"}
        %script{:src => "spec/draw_spec.js", :type => "text/javascript"}
        %script{:src => "spec/create_shape_spec.js", :type => "text/javascript"}
        %script{:src => "spec/collision_detection_spec.js", :type => "text/javascript"}
        / include source files here...
        %script{:src => "jquery.js", :type => "text/javascript"}
        %script{:src => "class.js", :type => "text/javascript"}
        %script{:src => "block_fall.js", :type => "text/javascript"}
        %script{:src => "shape.js", :type => "text/javascript"}
        %script{:src => "j.js", :type => "text/javascript"}
        %script{:src => "o.js", :type => "text/javascript"}
        %script{:src => "l.js", :type => "text/javascript"}
        %script{:src => "t.js", :type => "text/javascript"}
        %script{:src => "i.js", :type => "text/javascript"}
        %script{:src => "s.js", :type => "text/javascript"}
        %script{:src => "z.js", :type => "text/javascript"}
        %script{:src => "draw.js", :type => "text/javascript"}
        %script{:src => "block.js", :type => "text/javascript"}
        %script{:src => "create_shape.js", :type => "text/javascript"}
        %script{:src => "collision_detection.js", :type => "text/javascript"}
        :javascript
          (function() {
            var jasmineEnv = jasmine.getEnv();
            jasmineEnv.updateInterval = 1000;

            var trivialReporter = new jasmine.TrivialReporter();

            jasmineEnv.addReporter(trivialReporter);

            jasmineEnv.specFilter = function(spec) {
              return trivialReporter.specFilter(spec);
            };

            var currentWindowOnload = window.onload;

            window.onload = function() {
              if (currentWindowOnload) {
                currentWindowOnload();
              }
              execJasmine();
            };

            function execJasmine() {
              jasmineEnv.execute();
            }

          })();
    %body